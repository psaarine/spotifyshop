{"version":3,"sources":["clientInfo/appInfo.js","components/token.js","components/state.js","components/nestedcomps/CategoryCard.js","components/main.js","components/shopContext.js","components/shop.js","components/shoplink.js","components/nestedcomps/PlaylistCard.js","components/category.js","components/nestedcomps/HighlightContext.js","components/nestedcomps/TrackItem.js","components/nestedcomps/TrackHighlight.js","components/playlist.js","components/index.js","components/album.js","App.js","index.js"],"names":["appInfo","TokenContext","createContext","Token","props","useState","token","setToken","Provider","value","children","GlobalStateContext","GlobalState","globalState","setGlobalState","tokenHandler","useContext","useEffect","_dataFetcher","_getToken","_getGenres","a","fetch","method","headers","result","json","data","console","log","categories","items","btoa","body","access_token","sessionStorage","setItem","CategoryCard","stateObj","pathname","category","id","state","className","to","src","icons","url","name","MainCont","styled","div","Main","map","index","ShopC","ShopContext","Shop","addItem","albumObj","handler","storageShop","JSON","parse","getItem","storageObj","stringify","albumList","push","length","newEntry","resetShop","removeItem","pop","shop","setShop","useHistory","storageshop","undefined","Object","values","fetchShop","ShopListItem","label","Shoplink","PlaylistCardStyle","currentPosition","active","PlaylistCard","isActive","setActive","linkObj","tracks","image","images","onMouseEnter","onMouseLeave","title","description","Category","currentState","location","categoryData","setData","useReducer","action","setPosition","fetchData","onWheel","e","pos","deltaY","handleMouseWheel","elem","href","Authorization","resp","playlists","require","HighLightContextCreator","HighLightContext","highlightData","setHighlight","hasHighLight","toggleHighlight","TrackItemStyle","TrackItem","contextData","text","setText","setStrong","string","trackLenght","newString","track","slice","concat","setPreviewText","setHighlightData","trackObj","album","duration","duration_ms","addHighlightCard","TrackHighlight","SwitchTransition","mode","CSSTransition","classNames","timeout","appear","enter","exit","unmountOnExit","TrackCard","setHover","ready","setReady","kek","TrackCardStyle","isReady","isHovered","onLoad","toggleTransition","alt","readyHandler","setTimeout","PlaylistStyle","reducer","Playlist","setTracks","fetchTracks","trackNumber","Index","Album","useParams","shopContext","addItems","amount","setAmount","albumData","fetchAlbumData","onClick","albumObject","App","basename","exact","path","component","render","Component","ReactDOM","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.44b84f11.chunk.js","sourcesContent":["export const appInfo = {\n    client_id: \"02267ba9be1248d5bb1a9624558143dc\",\n    client_secret: \"09d64e7beca5447fb915e84f3bc545df\"\n}","import { createContext, useState } from \"react\"\n\n\nexport const TokenContext = createContext();\nexport const Token = (props) => {\n    \n    const [token, setToken] = useState(\"tokeni\");\n    \n    return (\n        <TokenContext.Provider value={[token, setToken]}>\n            {props.children}\n        </TokenContext.Provider>\n    );\n}","import { createContext, useState, useEffect, useContext } from \"react\";\nimport { appInfo } from \"../clientInfo/appInfo\";\nimport { TokenContext } from \"./token\";\n\n\nexport const GlobalStateContext = createContext();\n\nconst GlobalState = (props) => {\n\n    const [globalState, setGlobalState] = useState([]);\n    const tokenData = useContext(TokenContext);\n    const tokenHandler = tokenData[1];\n\n    useEffect(() => {\n        _dataFetcher();\n    },[]);\n\n    return (\n        <GlobalStateContext.Provider value={globalState}>\n            {props.children}\n        </GlobalStateContext.Provider>\n    );\n\n    async function _dataFetcher(){\n        /* These functions are inpure because that is more convenient */\n        let token;\n        await _getToken();\n        _getGenres(token);\n        \n        async function _getToken(){\n            const result = await fetch(\"https://accounts.spotify.com/api/token\", {\n                method: \"POST\",\n                headers: {\n                    \"Content-Type\" : \"application/x-www-form-urlencoded\",\n                    \"Authorization\" : \"Basic \" + btoa(appInfo.client_id + \":\" + appInfo.client_secret)\n                },\n                body: \"grant_type=client_credentials\"\n            })\n            const data = await result.json();\n            token = data.access_token;\n            sessionStorage.setItem(\"token\", token);\n            tokenHandler(token);\n        }\n\n        async function _getGenres(token){\n            const result = await fetch(\"https://api.spotify.com/v1/browse/categories?locale=sv_FI&limit=5\",\n            {\n                method: \"GET\",\n                headers: { \"Authorization\" : \"Bearer \" + token}\n            })\n            const data = await result.json();\n            console.log();\n            setGlobalState(data.categories.items)\n        }\n\n    }\n}\n\nexport default GlobalState;","import { Link } from \"react-router-dom\";\n\n\nexport const CategoryCard = (props) => {\n    const linkUrl = `/categories/${props.category.id}`\n    const stateObj = {pathname: linkUrl,\n        state: props.category\n        }\n    \n    return (\n        <div className=\"category-card\" >\n            <Link to={stateObj}>\n            <img src={props.category.icons[0].url}/>\n            </Link>\n            <h1>{props.category.name}</h1>\n        </div>\n    );\n}\n\nexport default CategoryCard;\n","import { useContext } from \"react\";\nimport {GlobalStateContext} from \"./state\";\nimport { CategoryCard } from \"./nestedcomps/CategoryCard\";\nimport styled from \"styled-components\";\n\nconst MainCont = styled.div`\n    background-image: url(${props => props.url});\n    background-repeat: no-repeat;\n    background-position: center;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    height: 100vh;\n`\n\nconst Main = () => {\n\n    const data = useContext(GlobalStateContext);\n\n\n    return (\n        \n        <MainCont>\n            <h1 className=\"header\">Categories</h1>\n            <div className=\"category-card-wrapper\">\n                {data.map((category, index) => <CategoryCard key={index} category={category}/>)}\n            </div>\n            \n        </MainCont>\n        \n    );\n\n\n}\n\nexport default Main;","import { createContext, useState } from \"react\";\n\n\nexport const ShopC = createContext();\n\nexport const ShopContext = (props) => {\n    \n    const [Shop, setItems] = useState({});\n    \n    return (\n        <ShopC.Provider value={{\n            Shop: Shop,\n            addItem: addItem,\n            resetShop: resetShop,\n            removeItem: removeItem\n        }}>\n            {props.children}\n        </ShopC.Provider>\n    );\n\n    function addItem(albumObj, handler){\n        let storageShop = JSON.parse(sessionStorage.getItem(\"shop\"));\n        if (storageShop === null) {\n            let storageObj = {                \n            }\n            storageObj[albumObj.id] = [albumObj];\n            \n            sessionStorage.setItem(\"shop\", JSON.stringify(\n                storageObj\n            ));\n            handler(1);\n        } else {\n\n            if (albumObj.id in storageShop) {\n            let albumList = storageShop[albumObj.id];\n            albumList.push(albumObj);\n            storageShop[albumObj.id] = albumList;\n            sessionStorage.setItem(\"shop\", JSON.stringify(\n                storageShop\n            ));\n            handler(albumList.length);\n            } else {\n                let newEntry = [albumObj];\n                storageShop[albumObj.id] = newEntry;\n                sessionStorage.setItem(\"shop\", JSON.stringify(\n                    storageShop\n                ));\n                handler(1);                \n            }\n        }\n\n    }\n    function removeItem(albumObj, handler){\n        let storageShop = JSON.parse(sessionStorage.getItem(\"shop\"));\n        if (storageShop !== null && albumObj.id in storageShop && storageShop[albumObj.id].length > 0){\n            let albumList = storageShop[albumObj.id];\n            albumList.pop();\n            storageShop[albumObj.id] = albumList;\n            sessionStorage.setItem(\"shop\", JSON.stringify(\n                storageShop\n            ));\n            handler(albumList.length);\n        }\n    }\n    function resetShop(handler){\n        sessionStorage.removeItem(\"shop\");\n        handler(0);\n    }\n}","import { useContext, useEffect, useState } from \"react\";\nimport {GlobalStateContext} from \"./state\";\nimport { useHistory } from \"react-router-dom\";\n\n\nexport const Shop = (props) => {\n    const data = useContext(GlobalStateContext);\n    const [shop, setShop] = useState([]);\n    const previousPage = useHistory();\n    useEffect(() => {\n        fetchShop();\n    }, []);\n\n    return (\n    <div className=\"shop\">\n        <ul>\n            <div className=\"shop-list\">\n                <h1>Your items:</h1>\n            </div>\n            {shop.map((value, index) => <ShopListItem data={value} key={index}/>)}\n        </ul>\n    </div>\n    );\n\n    function fetchShop(){\n        let storageshop = JSON.parse(sessionStorage.getItem(\"shop\"));\n        if (storageshop !== null && storageshop !== undefined){\n        setShop(Object.values(storageshop));\n        }\n    }\n}\n\nconst ShopListItem = (props) => {\n\n    return(\n        <div className=\"shop-list\">\n            {props.data[0] === undefined ? <h1></h1> : <h1>{props.data[0].label}: {props.data[0].name} x {props.data.length}</h1>}\n            \n        </div>\n    );\n}\n","import { Link } from \"react-router-dom\";\n\nexport const Shoplink = (props) => {\n    return (\n        <Link to=\"/shop\">\n            <div className=\"shop-link\">\n                <p>Visit Shop</p>\n            </div>\n        </Link>\n    );\n}","import { useState } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport styled from \"styled-components\";\n\nconst PlaylistCardStyle = styled.div`\n    width: 640px;\n    height: 700px;\n    position: absolute;\n    left: ${props => (props.index * 800) + props.currentPosition + 300}px;\n    scale: ${props => (props.active ? 1.2 : 1)};\n    transition: 0.5s;\n`\n\n\n\nexport const PlaylistCard = (props) => {\n    \n    const [isActive, setActive] = useState(false)\n    const linkObj = {\n        pathname: \"/playlists/\" + props.data.id,\n        state: {\n            tracks: props.data.tracks,\n            image: props.data.images[0].url\n        }\n    }\n\n    return (\n        <PlaylistCardStyle index={props.index} currentPosition={props.currentPosition} active={isActive}\n        onMouseEnter={() => setActive(true)}\n        onMouseLeave={() => setActive(false)}\n        >\n            <h1>{props.data.title}</h1>\n            <Link to={ linkObj }>\n                <img src={props.data.images[0].url}/>\n            </Link>\n            <p>{props.data.description}</p>\n            </PlaylistCardStyle>\n    );\n}","import { useReducer, useEffect, useState } from \"react\";\nimport { PlaylistCard } from \"./nestedcomps/PlaylistCard\"\n\n\n\nexport const Category = (props) => {\n    const currentState = props.data.location.state;\n    const [categoryData, setData] = useState([]);\n    const [currentPosition, setPosition] = useReducer(wheelReducer, 0);\n\n    useEffect(() => {\n        fetchData(currentState.id, setData);\n    }, []);\n\n    return (\n        <div className=\"screen\">\n            <div className=\"playlist-card-wrapper\" onWheel={(e) => handleMouseWheel(e, setPosition, currentPosition, categoryData)}>\n                {categoryData.map((elem, index) => \n                    <PlaylistCard key={index} data={elem} index={index} currentPosition={currentPosition * 600}/>\n                )}\n            </div>\n            \n        </div>\n    );\n\n    async function fetchData(href, handler){\n        const resp = await fetch(`https://api.spotify.com/v1/browse/categories/${href}/playlists?limit=5`, {\n            method: \"GET\",\n            headers: {\n                Authorization: \"Bearer \" + sessionStorage.getItem(\"token\")\n            }\n        });\n        const data = await resp.json();\n        handler(data.playlists.items);\n    }\n\n    function handleMouseWheel(e, handler, pos, data){\n        if (e.deltaY < 0 && pos < 0){\n            handler(\"increment\");\n        } \n\n        if ((e.deltaY > 0) && (pos <= 0) && (pos > (-1 * data.length))) {\n            handler(\"decrement\");\n        }\n\n    }\n\n    function wheelReducer(state, action) {\n        const scrollAmount = 1;\n        \n        switch (action) {\n            case \"increment\":\n\n                return state + scrollAmount;\n                \n            case \"decrement\":\n                return state - scrollAmount;\n        \n            default:\n                break;\n        }\n    }\n}","const { createContext, useState } = require(\"react\");\n\n\nexport const HighLightContextCreator = createContext();\n\nexport const HighLightContext = (props) => {\n\n    const [highlightData, setHighlight] = useState({data: \"kek\"}); \n    const [hasHighLight, toggleHighlight] = useState(false);\n\n    return (\n        <HighLightContextCreator.Provider value={[highlightData, hasHighLight, toggleHighlight, setHighlight]}>\n            {props.children}\n        </HighLightContextCreator.Provider>\n    );\n}","import { useContext, useEffect, useState } from \"react\";\nimport styled from \"styled-components\";\nimport { HighLightContextCreator } from \"./HighlightContext\";\n\nconst TrackItemStyle = styled.div`\n    padding: 10px;\n    width: 400px;\n    height: 55px;\n    border-radius: 3px;\n    white-space: nowrap;\n    overflow: hidden;\n    transition: 1s;\n    text-align: center;\n    background-color: #2A1B3D;\n    margin: 10px;\n    scale: ${props => props.isActive ? 1.2 : 1};\n    color: white;\n`\n\n\nexport const TrackItem = (props) => {\n    \n    const contextData = useContext(HighLightContextCreator);\n    const [text, setText] = useState(\"\");\n    const [isActive, setStrong] = useState(false);\n\n    useEffect(() => {\n        setPreviewText(props, setText);\n    }, []);\n\n\n    \n    return (\n    <TrackItemStyle isActive={isActive}\n    onMouseEnter={() => {addHighlightCard(contextData[1], contextData[3], contextData[2])}}\n    onMouseLeave={() => {setStrong(false)}}\n    >\n        <h1 className=\"track-text\">{text}</h1>\n    </TrackItemStyle>\n    );\n    \n    function addHighlightCard(isActive, setHighlightData, setActive){\n        setActive(true);\n        const trackObj = {\n            image: props.data.track.album.images[1],\n            name: props.data.track.name,\n            duration: props.data.track.duration_ms,\n            album: props.data.track.album.id\n        }\n        setHighlightData(trackObj);\n        setStrong(true);\n    }\n\n    function setPreviewText(string, handler){\n        const trackLenght = 15;\n        let newString = string.data.track.name\n        \n\n        if (newString.length > trackLenght) {\n            newString = newString.slice(0, trackLenght).concat(\"...\");\n        }\n        handler(newString);\n    }\n\n}","import { useContext, useEffect, useState } from \"react\";\nimport { HighLightContextCreator } from \"./HighlightContext\";\nimport { SwitchTransition, CSSTransition } from \"react-transition-group\";\nimport styled from \"styled-components\";\nimport moment from \"moment\";\nimport { Link } from \"react-router-dom\";\n\n\nexport const TrackHighlight = (props) => {\n\n    const highlightData = useContext(HighLightContextCreator);\n\n    \n    return (\n        <SwitchTransition \n            mode={\"out-in\"}>\n            <CSSTransition\n            key={highlightData[1]}\n            classNames=\"fade\"\n            timeout={\n                {\n                    appear: 1000,\n                    enter: 1000,\n                    exit: 0\n                }\n            }\n            unmountOnExit={true}\n            >\n                <div>\n                    {highlightData[1] ? <TrackCard data={highlightData}/> : <h1></h1>}\n                </div>\n            </CSSTransition>\n        </SwitchTransition>\n    );\n\n}\n\nconst TrackCard = (props) => {\n\n    const [hover, setHover] = useState(false);\n    const [ready, setReady] = useState(false);\n    const linkObj = {\n        pathname: \"/album/\" + props.data[0].album,\n        state: {\n            kek: \"lol\"\n        }\n    }\n    useEffect(() => {\n        setReady(false);\n    }, [props.data]);\n\n    return (\n        <TrackCardStyle isReady={ready} isHovered={false}>\n            <div className=\"track-card\" onMouseEnter={() => {setHover(true)}}>\n                    <img src={props.data[0].image.url} onLoad={() => {toggleTransition(setReady)}} alt=\"\"/>\n                    <h3 className=\"track-card-front-name\">{props.data[0].name}</h3>\n                    <Link to={linkObj}>\n                    <h4>Browse</h4>\n                    </Link>\n                    <div className=\"track-card-front-viewers\"></div>\n            </div>\n        </TrackCardStyle>\n    );\n\n    async function toggleTransition(readyHandler){\n        setTimeout(() => {\n            readyHandler(true)\n        }, 1000);\n    }\n\n    function testHover(){\n        setHover(true);\n        console.log(\"true\");\n    }\n}\n\nconst TrackCardStyle = styled.div`\n    transition: ${props => props.isReady ? 1 : 0}s;\n    margin-left: ${props => props.isReady ? 0 : 600}px;\n    opacity: ${props => props.isReady ? 1 : 0};\n    display: inline-block;\n    text-align: center;\n    transform-style: preserve-3d;\n`","import { useEffect, useReducer, useState } from \"react\";\nimport styled from \"styled-components\";\nimport { TrackItem } from \"./nestedcomps/TrackItem\";\nimport { TrackHighlight } from \"./nestedcomps/TrackHighlight\";\nimport { HighLightContext } from \"./nestedcomps/HighlightContext\";\n\nconst PlaylistStyle = styled.div`\n    background-position: center;\n    background-repeat: no-repeat;\n    background-image: url(${props => props.url});\n    height: 100vh;\n    width: 100vw;\n    position: absolute;\n    opacity: 0.5;\n    z-index: -1;\n`\nconst reducer = (state, action) => {\n    switch (action) {\n        case \"increment\":\n            return state + 1;\n        case \"decrement\":\n            return state -1;   \n        default:\n            return state;\n    }\n}\nexport const Playlist = (props) => {\n    \n    const [pos, setPos] = useReducer(reducer, 1);\n    const [tracks, setTracks] = useState([]);\n    const scrollAmount = 50;\n    useEffect(() => {\n        fetchTracks(props.data.location.state.tracks.href, setTracks);\n    }, []);\n\n    return (\n        <div className=\"playlist-item\">\n            <PlaylistStyle url={props.data.location.state.image}>\n            </PlaylistStyle>\n            <HighLightContext>\n            <div className=\"track-wrapper\">\n                {tracks.map((track, index) => <TrackItem data={track} trackNumber={index}/>\n                )}\n            </div>\n            <div className=\"track-highlight\">\n                    <TrackHighlight />\n            </div>\n            </HighLightContext>\n        </div>\n    );\n\n    async function fetchTracks(href, handler) {\n        const resp = await fetch(href, {\n            headers: {\n                Authorization: \"Bearer \" + sessionStorage.getItem(\"token\")\n            }\n            \n        });\n\n        const data = await resp.json();\n        handler(data.items);\n    }\n}","import { Link } from \"react-router-dom\"\n\n\nexport const Index = (props) => {\n    return (\n        <div className=\"index-window screen\">\n            <div className=\"index-window-cont\">\n                <h1>Spotify album magazine</h1>\n                    <p>This is a website developed with react to increase my skills as developer. It uses many advanced react features.\n                        You can browse categories and their associated playlists. From each playlist you can see all tracks and their related albums.\n                        You can add these items to the \"shop\" that I have created. Naturally I do not have database set up, so I will simply store items \n                        into your session storage to simulate eCommerce.\n                    </p>\n                <Link to=\"/main\">\n                    <button>Continue</button>\n                </Link>\n            </div>\n        </div>\n    );\n}","import { useContext, useEffect, useState } from \"react\";\nimport { useParams } from \"react-router-dom\";\nimport { ShopC } from \"./shopContext\";\n\n\nexport const Album = (props) => {\n    let { id } = useParams();\n    const shopContext = useContext(ShopC);\n    const addItems = shopContext.addItem;\n    const [amount, setAmount] = useState(0);\n    const [albumData, setData] = useState({\n        image: \"\",\n        label: \"\",\n        name: \"\"\n    });\n\n    useEffect(() => {\n        fetchAlbumData(id, setData);\n    }, [id]);\n\n\n    return (\n        <div className=\"album-screen\">\n            <div className=\"album-cont\">\n                <div className=\"album-item\">\n                    <div className=\"album-info\">\n                        <h1>{albumData.label}</h1>\n                        <h2>{albumData.name}</h2>\n                        <h3>Currently: {amount}</h3>\n                        <button onClick={() => {addItems(albumData, setAmount)}}>Add to cart</button>\n                        <button onClick={() => {shopContext.removeItem(albumData, setAmount)\n                        \n                        }}>Remove from cart</button>\n                    </div>\n                    <div className=\"album-pic\">\n                        <img src={albumData.image} />\n                    </div>\n\n                </div>\n            </div>\n        </div>\n    );\n\n    async function fetchAlbumData(id, handler){\n        const resp = await fetch(`https://api.spotify.com/v1/albums/${id}`,\n        {\n            method: \"GET\",\n            headers: {\n                Authorization: \"Bearer \" + sessionStorage.getItem(\"token\")\n            }\n        }\n        );\n        const data = await resp.json();\n        const albumObject = {\n            image: data.images[0].url,\n            label: data.label,\n            name: data.name,\n            id: data.id\n        }\n        handler(albumObject);\n        fetchAlbumData(data.id);\n\n        function fetchAlbumData(id){\n            let storageShop = JSON.parse(sessionStorage.getItem(\"shop\"));\n            if (storageShop != null && storageShop[id] != undefined) {\n                setAmount(storageShop[id].length);\n            }\n\n        }\n    }\n\n}","import './sass/style.css';\nimport React, { Component } from 'react';\nimport Main from \"./components/main\";\nimport GlobalState from \"./components/state\";\nimport { Token } from \"./components/token\";\nimport { ShopContext } from \"./components/shopContext\";\nimport { Shop } from \"./components/shop\";\nimport { BrowserRouter as Router, Route, Switch } from \"react-router-dom\";\nimport { Shoplink } from \"./components/shoplink\";\nimport { Category } from \"./components/category\";\nimport { Playlist } from \"./components/playlist\";\nimport { Index } from \"./components/index\";\nimport { Album } from \"./components/album\";\n\nclass App extends Component {\n  state = {  }\n  render() { \n    return (\n      <div className=\"App\">\n        <Router basename=\"process.env.PUBLIC_URL\">\n        <Token>\n        <GlobalState>\n        <ShopContext>\n\n        \n          <Shoplink />\n          <Switch>\n            <Route exact path=\"/\" component={Index} />\n            <Route exact path=\"/main\" component={Main}/>\n            <Route path=\"/shop\" component={Shop}/>\n            <Route path=\"/categories/:id\" render={(props) => <Category data={props} />}/>\n            <Route path=\"/playlists/:id\" render={(props) => <Playlist data={props}/>}/>\n            <Route path=\"/album/:id\" render={(props) => <Album data={props}/>}/>\n          </Switch>\n\n        </ShopContext>\n        </GlobalState>\n        </Token>\n        </Router>\n      </div>\n     );\n  }\n}\n\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n"],"sourceRoot":""}