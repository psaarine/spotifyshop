(this.webpackJsonpspotifyapp=this.webpackJsonpspotifyapp||[]).push([[0],{38:function(e,t,n){},48:function(e,t,n){"use strict";n.r(t);var a=n(0),i=n(1),r=n.n(i),s=n(16),c=n.n(s),o=n(25),l=n(26),d=n(31),u=n(30),h=(n(38),n(13)),j=n(6),b=n.n(j),p=n(10),f=n(2),m="02267ba9be1248d5bb1a9624558143dc",O="09d64e7beca5447fb915e84f3bc545df",x=Object(i.createContext)(),y=function(e){var t=Object(i.useState)("tokeni"),n=Object(f.a)(t,2),r=n[0],s=n[1];return Object(a.jsx)(x.Provider,{value:[r,s],children:e.children})},g=Object(i.createContext)(),v=function(e){var t=Object(i.useState)([]),n=Object(f.a)(t,2),r=n[0],s=n[1],c=Object(i.useContext)(x)[1];return Object(i.useEffect)((function(){!function(){o.apply(this,arguments)}()}),[]),Object(a.jsx)(g.Provider,{value:r,children:e.children});function o(){return(o=Object(p.a)(b.a.mark((function e(){var t,n,a,i,r;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=function(){return(r=Object(p.a)(b.a.mark((function e(t){var n,a;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://api.spotify.com/v1/browse/categories?locale=sv_FI&limit=5",{method:"GET",headers:{Authorization:"Bearer "+t}});case 2:return n=e.sent,e.next=5,n.json();case 5:a=e.sent,console.log(),s(a.categories.items);case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)},i=function(e){return r.apply(this,arguments)},a=function(){return(a=Object(p.a)(b.a.mark((function e(){var n,a;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://accounts.spotify.com/api/token",{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded",Authorization:"Basic "+btoa(m+":"+O)},body:"grant_type=client_credentials"});case 2:return n=e.sent,e.next=5,n.json();case 5:a=e.sent,t=a.access_token,sessionStorage.setItem("token",t),c(t);case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)},n=function(){return a.apply(this,arguments)},e.next=6,n();case 6:i(t);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}},w=n(7),k=function(e){var t={pathname:"/categories/".concat(e.category.id),state:e.category};return Object(a.jsxs)("div",{className:"category-card",children:[Object(a.jsx)(w.b,{to:t,children:Object(a.jsx)("img",{src:e.category.icons[0].url})}),Object(a.jsx)("h1",{children:e.category.name})]})},S=n(14);function N(){var e=Object(h.a)(["\n    background-image: url(",");\n    background-repeat: no-repeat;\n    background-position: center;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    height: 100vh;\n"]);return N=function(){return e},e}var I=S.a.div(N(),(function(e){return e.url})),G=function(){var e=Object(i.useContext)(g);return Object(a.jsxs)(I,{children:[Object(a.jsx)("h1",{className:"header",children:"Categories"}),Object(a.jsx)("div",{className:"category-card-wrapper",children:e.map((function(e,t){return Object(a.jsx)(k,{category:e},t)}))})]})},C=Object(i.createContext)(),T=function(e){var t=Object(i.useState)({}),n=Object(f.a)(t,2),r=n[0];n[1];return Object(a.jsx)(C.Provider,{value:{Shop:r,addItem:function(e,t){var n=JSON.parse(sessionStorage.getItem("shop"));if(null===n){var a={};a[e.id]=[e],sessionStorage.setItem("shop",JSON.stringify(a)),t(1)}else if(e.id in n){var i=n[e.id];i.push(e),n[e.id]=i,sessionStorage.setItem("shop",JSON.stringify(n)),t(i.length)}else{var r=[e];n[e.id]=r,sessionStorage.setItem("shop",JSON.stringify(n)),t(1)}},resetShop:function(e){sessionStorage.removeItem("shop"),e(0)},removeItem:function(e,t){var n=JSON.parse(sessionStorage.getItem("shop"));if(null!==n&&e.id in n&&n[e.id].length>0){var a=n[e.id];a.pop(),n[e.id]=a,sessionStorage.setItem("shop",JSON.stringify(n)),t(a.length)}}},children:e.children})},V=n(3),z=function(e){Object(i.useContext)(g);var t=Object(i.useState)([]),n=Object(f.a)(t,2),r=n[0],s=n[1];Object(V.f)();return Object(i.useEffect)((function(){!function(){var e=JSON.parse(sessionStorage.getItem("shop"));null!==e&&void 0!==e&&s(Object.values(e))}()}),[]),Object(a.jsx)("div",{className:"shop",children:Object(a.jsxs)("ul",{children:[Object(a.jsx)("div",{className:"shop-list",children:Object(a.jsx)("h1",{children:"Your items:"})}),r.map((function(e,t){return Object(a.jsx)(E,{data:e},t)}))]})})},E=function(e){return Object(a.jsx)("div",{className:"shop-list",children:void 0===e.data[0]?Object(a.jsx)("h1",{}):Object(a.jsxs)("h1",{children:[e.data[0].label,": ",e.data[0].name," x ",e.data.length]})})},A=function(e){return Object(a.jsx)(w.b,{to:"/shop",children:Object(a.jsx)("div",{className:"shop-link",children:Object(a.jsx)("p",{children:"Visit Shop"})})})};function P(){var e=Object(h.a)(["\n    width: 640px;\n    height: 700px;\n    position: absolute;\n    left: ","px;\n    scale: ",";\n    transition: 0.5s;\n"]);return P=function(){return e},e}var B=S.a.div(P(),(function(e){return 800*e.index+e.currentPosition+300}),(function(e){return e.active?1.2:1})),J=function(e){var t=Object(i.useState)(!1),n=Object(f.a)(t,2),r=n[0],s=n[1],c={pathname:"/playlists/"+e.data.id,state:{tracks:e.data.tracks,image:e.data.images[0].url}};return Object(a.jsxs)(B,{index:e.index,currentPosition:e.currentPosition,active:r,onMouseEnter:function(){return s(!0)},onMouseLeave:function(){return s(!1)},children:[Object(a.jsx)("h1",{children:e.data.title}),Object(a.jsx)(w.b,{to:c,children:Object(a.jsx)("img",{src:e.data.images[0].url})}),Object(a.jsx)("p",{children:e.data.description})]})},W=function(e){var t=e.data.location.state,n=Object(i.useState)([]),r=Object(f.a)(n,2),s=r[0],c=r[1],o=Object(i.useReducer)((function(e,t){switch(t){case"increment":return e+1;case"decrement":return e-1}}),0),l=Object(f.a)(o,2),d=l[0],u=l[1];return Object(i.useEffect)((function(){!function(e,t){h.apply(this,arguments)}(t.id,c)}),[]),Object(a.jsx)("div",{className:"screen",children:Object(a.jsx)("div",{className:"playlist-card-wrapper",onWheel:function(e){return function(e,t,n,a){e.deltaY<0&&n<0&&t("increment");e.deltaY>0&&n<=0&&n>-1*a.length&&t("decrement")}(e,u,d,s)},children:s.map((function(e,t){return Object(a.jsx)(J,{data:e,index:t,currentPosition:600*d},t)}))})});function h(){return(h=Object(p.a)(b.a.mark((function e(t,n){var a,i;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://api.spotify.com/v1/browse/categories/".concat(t,"/playlists?limit=5"),{method:"GET",headers:{Authorization:"Bearer "+sessionStorage.getItem("token")}});case 2:return a=e.sent,e.next=5,a.json();case 5:i=e.sent,n(i.playlists.items);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}},L=n(1),M=L.createContext,R=L.useState,U=M(),Y=function(e){var t=R({data:"kek"}),n=Object(f.a)(t,2),i=n[0],r=n[1],s=R(!1),c=Object(f.a)(s,2),o=c[0],l=c[1];return Object(a.jsx)(U.Provider,{value:[i,o,l,r],children:e.children})};function _(){var e=Object(h.a)(["\n    padding: 10px;\n    width: 400px;\n    height: 55px;\n    border-radius: 3px;\n    white-space: nowrap;\n    overflow: hidden;\n    transition: 1s;\n    text-align: center;\n    background-color: #2A1B3D;\n    margin: 10px;\n    scale: ",";\n    color: white;\n"]);return _=function(){return e},e}var F=S.a.div(_(),(function(e){return e.isActive?1.2:1})),q=function(e){var t=Object(i.useContext)(U),n=Object(i.useState)(""),r=Object(f.a)(n,2),s=r[0],c=r[1],o=Object(i.useState)(!1),l=Object(f.a)(o,2),d=l[0],u=l[1];return Object(i.useEffect)((function(){!function(e,t){var n=15,a=e.data.track.name;a.length>n&&(a=a.slice(0,n).concat("..."));t(a)}(e,c)}),[]),Object(a.jsx)(F,{isActive:d,onMouseEnter:function(){!function(t,n,a){a(!0);var i={image:e.data.track.album.images[1],name:e.data.track.name,duration:e.data.track.duration_ms,album:e.data.track.album.id};n(i),u(!0)}(t[1],t[3],t[2])},onMouseLeave:function(){u(!1)},children:Object(a.jsx)("h1",{className:"track-text",children:s})})},D=n(50),H=n(51);n(46);function K(){var e=Object(h.a)(["\n    transition: ","s;\n    margin-left: ","px;\n    opacity: ",";\n    display: inline-block;\n    text-align: center;\n    transform-style: preserve-3d;\n"]);return K=function(){return e},e}var Q=function(e){var t=Object(i.useContext)(U);return Object(a.jsx)(D.a,{mode:"out-in",children:Object(a.jsx)(H.a,{classNames:"fade",timeout:{appear:1e3,enter:1e3,exit:0},unmountOnExit:!0,children:Object(a.jsx)("div",{children:t[1]?Object(a.jsx)(X,{data:t}):Object(a.jsx)("h1",{})})},t[1])})},X=function(e){var t=Object(i.useState)(!1),n=Object(f.a)(t,2),r=(n[0],n[1]),s=Object(i.useState)(!1),c=Object(f.a)(s,2),o=c[0],l=c[1],d={pathname:"/album/"+e.data[0].album,state:{kek:"lol"}};return Object(i.useEffect)((function(){l(!1)}),[e.data]),Object(a.jsx)(Z,{isReady:o,isHovered:!1,children:Object(a.jsxs)("div",{className:"track-card",onMouseEnter:function(){r(!0)},children:[Object(a.jsx)("img",{src:e.data[0].image.url,onLoad:function(){!function(e){u.apply(this,arguments)}(l)},alt:""}),Object(a.jsx)("h3",{className:"track-card-front-name",children:e.data[0].name}),Object(a.jsx)(w.b,{to:d,children:Object(a.jsx)("h4",{children:"Browse"})}),Object(a.jsx)("div",{className:"track-card-front-viewers"})]})});function u(){return(u=Object(p.a)(b.a.mark((function e(t){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:setTimeout((function(){t(!0)}),1e3);case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}},Z=S.a.div(K(),(function(e){return e.isReady?1:0}),(function(e){return e.isReady?0:600}),(function(e){return e.isReady?1:0}));function $(){var e=Object(h.a)(["\n    background-position: center;\n    background-repeat: no-repeat;\n    background-image: url(",");\n    height: 100vh;\n    width: 100vw;\n    position: absolute;\n    opacity: 0.5;\n    z-index: -1;\n"]);return $=function(){return e},e}var ee=S.a.div($(),(function(e){return e.url})),te=function(e,t){switch(t){case"increment":return e+1;case"decrement":return e-1;default:return e}},ne=function(e){var t=Object(i.useReducer)(te,1),n=Object(f.a)(t,2),r=(n[0],n[1],Object(i.useState)([])),s=Object(f.a)(r,2),c=s[0],o=s[1];return Object(i.useEffect)((function(){!function(e,t){l.apply(this,arguments)}(e.data.location.state.tracks.href,o)}),[]),Object(a.jsxs)("div",{className:"playlist-item",children:[Object(a.jsx)(ee,{url:e.data.location.state.image}),Object(a.jsxs)(Y,{children:[Object(a.jsx)("div",{className:"track-wrapper",children:c.map((function(e,t){return Object(a.jsx)(q,{data:e,trackNumber:t})}))}),Object(a.jsx)("div",{className:"track-highlight",children:Object(a.jsx)(Q,{})})]})]});function l(){return(l=Object(p.a)(b.a.mark((function e(t,n){var a,i;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(t,{headers:{Authorization:"Bearer "+sessionStorage.getItem("token")}});case 2:return a=e.sent,e.next=5,a.json();case 5:i=e.sent,n(i.items);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}},ae=function(e){return Object(a.jsx)("div",{className:"index-window screen",children:Object(a.jsxs)("div",{className:"index-window-cont",children:[Object(a.jsx)("h1",{children:"Spotify album magazine"}),Object(a.jsx)("p",{children:'This is a website developed with react to increase my skills as developer. It uses many advanced react features. You can browse categories and their associated playlists. From each playlist you can see all tracks and their related albums. You can add these items to the "shop" that I have created. Naturally I do not have database set up, so I will simply store items into your session storage to simulate eCommerce.'}),Object(a.jsx)(w.b,{to:"/main",children:Object(a.jsx)("button",{children:"Continue"})})]})})},ie=function(e){var t=Object(V.g)().id,n=Object(i.useContext)(C),r=n.addItem,s=Object(i.useState)(0),c=Object(f.a)(s,2),o=c[0],l=c[1],d=Object(i.useState)({image:"",label:"",name:""}),u=Object(f.a)(d,2),h=u[0],j=u[1];return Object(i.useEffect)((function(){!function(e,t){m.apply(this,arguments)}(t,j)}),[t]),Object(a.jsx)("div",{className:"album-screen",children:Object(a.jsx)("div",{className:"album-cont",children:Object(a.jsxs)("div",{className:"album-item",children:[Object(a.jsxs)("div",{className:"album-info",children:[Object(a.jsx)("h1",{children:h.label}),Object(a.jsx)("h2",{children:h.name}),Object(a.jsxs)("h3",{children:["Currently: ",o]}),Object(a.jsx)("button",{onClick:function(){r(h,l)},children:"Add to cart"}),Object(a.jsx)("button",{onClick:function(){n.removeItem(h,l)},children:"Remove from cart"})]}),Object(a.jsx)("div",{className:"album-pic",children:Object(a.jsx)("img",{src:h.image})})]})})});function m(){return(m=Object(p.a)(b.a.mark((function e(t,n){var a,i,r,s;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s=function(e){var t=JSON.parse(sessionStorage.getItem("shop"));null!=t&&void 0!=t[e]&&l(t[e].length)},e.next=3,fetch("https://api.spotify.com/v1/albums/".concat(t),{method:"GET",headers:{Authorization:"Bearer "+sessionStorage.getItem("token")}});case 3:return a=e.sent,e.next=6,a.json();case 6:i=e.sent,r={image:i.images[0].url,label:i.label,name:i.name,id:i.id},n(r),s(i.id);case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}},re=function(){return Object(a.jsxs)("div",{children:[Object(a.jsx)("h2",{children:"Web Site Terms and Conditions of Use"}),Object(a.jsx)("h3",{children:"1. Terms"}),Object(a.jsx)("p",{children:"By accessing this web site, you are agreeing to be bound by these web site Terms and Conditions of Use, applicable laws and regulations and their compliance. If you disagree with any of the stated terms and conditions, you are prohibited from using or accessing this site. The materials contained in this site are secured by relevant copyright and trade mark law."}),Object(a.jsx)("h3",{children:"2. Use License"}),Object(a.jsxs)("ol",{type:"a",children:[Object(a.jsxs)("li",{children:["Permission is allowed to temporarily download one duplicate of the materials (data or programming) on Vue Gallery's site for individual and non-business use only. This is the just a permit of license and not an exchange of title, and under this permit you may not:",Object(a.jsxs)("ol",{type:"i",children:[Object(a.jsx)("li",{children:"modify or copy the materials;"}),Object(a.jsx)("li",{children:"use the materials for any commercial use , or for any public presentation (business or non-business); "}),Object(a.jsx)("li",{children:"attempt to decompile or rebuild any product or material contained on Vue Gallery's site;"}),Object(a.jsx)("li",{children:"remove any copyright or other restrictive documentations from the materials; or"}),Object(a.jsx)("li",{children:'transfer the materials to someone else or even "mirror" the materials on other server.'})]})]}),Object(a.jsx)("li",{children:"This permit might consequently be terminated if you disregard any of these confinements and may be ended by Vue Gallery whenever deemed. After permit termination or when your viewing permit is terminated, you must destroy any downloaded materials in your ownership whether in electronic or printed form."})]}),Object(a.jsx)("h3",{children:"3. Disclaimer"}),Object(a.jsx)("ol",{type:"a",children:Object(a.jsx)("li",{children:'The materials on Vue Gallery\'s site are given "as is". Vue Gallery makes no guarantees, communicated or suggested, and thus renounces and nullifies every single other warranties, including without impediment, inferred guarantees or states of merchantability, fitness for a specific reason, or non-encroachment of licensed property or other infringement of rights. Further, Vue Gallery does not warrant or make any representations concerning the precision, likely results, or unwavering quality of the utilization of the materials on its Internet site or generally identifying with such materials or on any destinations connected to this website.'})}),Object(a.jsx)("h3",{children:"4. Constraints"}),Object(a.jsx)("p",{children:"In no occasion should Vue Gallery or its suppliers subject for any harms (counting, without constraint, harms for loss of information or benefit, or because of business interference,) emerging out of the utilization or powerlessness to utilize the materials on Vue Gallery's Internet webpage, regardless of the possibility that Vue Gallery or a Vue Gallery approved agent has been told orally or in written of the likelihood of such harm. Since a few purviews don't permit constraints on inferred guarantees, or impediments of obligation for weighty or coincidental harms, these confinements may not make a difference to you."}),Object(a.jsx)("h3",{children:"5. Amendments and Errata"}),Object(a.jsx)("p",{children:"The materials showing up on Vue Gallery's site could incorporate typographical, or photographic mistakes. Vue Gallery does not warrant that any of the materials on its site are exact, finished, or current. Vue Gallery may roll out improvements to the materials contained on its site whenever without notification. Vue Gallery does not, then again, make any dedication to update the materials."}),Object(a.jsx)("h3",{children:"6. Links"}),Object(a.jsx)("p",{children:"Vue Gallery has not checked on the majority of the websites or links connected to its website and is not in charge of the substance of any such connected webpage. The incorporation of any connection does not infer support by Vue Gallery of the site. Utilization of any such connected site is at the user's own risk."}),Object(a.jsx)("h3",{children:"7. Site Terms of Use Modifications"}),Object(a.jsx)("p",{children:"Vue Gallery may update these terms of utilization for its website whenever without notification. By utilizing this site you are consenting to be bound by the then current form of these Terms and Conditions of Use."}),Object(a.jsx)("h3",{children:"8. Governing Law"}),Object(a.jsx)("p",{children:"Any case identifying with Vue Gallery's site should be administered by the laws of the country of Finland Vue Gallery State without respect to its contention of law provisions."}),Object(a.jsx)("p",{children:"General Terms and Conditions applicable to Use of a Web Site."}),Object(a.jsx)("h2",{children:"Privacy Policy"}),Object(a.jsx)("p",{children:"Your privacy is critical to us. Likewise, we have built up this Policy with the end goal you should see how we gather, utilize, impart and reveal and make utilization of individual data. The following blueprints our privacy policy."}),Object(a.jsxs)("ul",{children:[Object(a.jsx)("li",{children:"Before or at the time of collecting personal information, we will identify the purposes for which information is being collected."}),Object(a.jsx)("li",{children:"We will gather and utilization of individual data singularly with the target of satisfying those reasons indicated by us and for other good purposes, unless we get the assent of the individual concerned or as required by law."}),Object(a.jsx)("li",{children:"We will just hold individual data the length of essential for the satisfaction of those reasons."}),Object(a.jsx)("li",{children:"We will gather individual data by legal and reasonable means and, where fitting, with the information or assent of the individual concerned."}),Object(a.jsx)("li",{children:"Personal information ought to be important to the reasons for which it is to be utilized, and, to the degree essential for those reasons, ought to be exact, finished, and updated."}),Object(a.jsx)("li",{children:"We will protect individual data by security shields against misfortune or burglary, and also unapproved access, divulgence, duplicating, use or alteration."}),Object(a.jsx)("li",{children:"We will promptly provide customers with access to our policies and procedures for the administration of individual data."})]}),Object(a.jsx)("p",{children:"We are focused on leading our business as per these standards with a specific end goal to guarantee that the privacy of individual data is secure and maintained."})]})},se=function(e){Object(d.a)(n,e);var t=Object(u.a)(n);function n(){var e;Object(o.a)(this,n);for(var a=arguments.length,i=new Array(a),r=0;r<a;r++)i[r]=arguments[r];return(e=t.call.apply(t,[this].concat(i))).state={},e}return Object(l.a)(n,[{key:"render",value:function(){return Object(a.jsx)("div",{className:"App",children:Object(a.jsx)(w.a,{basename:"/spotifyshop",children:Object(a.jsx)(y,{children:Object(a.jsx)(v,{children:Object(a.jsxs)(T,{children:[Object(a.jsx)(A,{}),Object(a.jsxs)(V.c,{children:[Object(a.jsx)(V.a,{exact:!0,path:"/",component:ae}),Object(a.jsx)(V.a,{exact:!0,path:"/main",component:G}),Object(a.jsx)(V.a,{path:"/shop",component:z}),Object(a.jsx)(V.a,{path:"/categories/:id",render:function(e){return Object(a.jsx)(W,{data:e})}}),Object(a.jsx)(V.a,{path:"/playlists/:id",render:function(e){return Object(a.jsx)(ne,{data:e})}}),Object(a.jsx)(V.a,{path:"/album/:id",render:function(e){return Object(a.jsx)(ie,{data:e})}}),Object(a.jsx)(V.a,{path:"/privacy",component:re})]})]})})})})})}}]),n}(i.Component);c.a.render(Object(a.jsx)(r.a.StrictMode,{children:Object(a.jsx)(se,{})}),document.getElementById("root"))}},[[48,1,2]]]);
//# sourceMappingURL=main.176501a0.chunk.js.map